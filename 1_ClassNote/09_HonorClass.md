# Week 9 : HL 9 一致性问题

## 数据一致性的问题

跨表  

- 业务层面  
    - 多来源数据  
- 设计方面  
    - 数据冗余存储  
    - 非规范化设计的问题  

为了某些目的冗余是允许的  
但一定要想清楚可以用什么数据来矫正  

## 处理方法

- 规范化设计
    - 规范化分解  
    - 好处：冗余减少
    - 坏处：性能下降  
- 一致性检察  
    - 存储过程 Assert  
    - Trigger  
    - 或者应用程序中对功能进行实现  
- 数据重算  
    - 一致性保持规则  
        采用程序更新数据  
    - 可维护的  
        同时也要考虑业务可行性和合理性  

## HPJ 相关

- 哪些数据在哪些功能中会使用？  
    - 是否有必要进行冗余存储？  
- 是否存在一些数据因为错误需要更新？  
    对数据一致性的影响？  
    - 问答数据的调整、修正等变化  
        - 考虑数据明显错误时需要的修正或者删除功能  
        - 如何处理错误数据带来的“不公正”的评估成绩  
    - 历史版本的数据快照  
        - 同一个QID是否代表同个问题？  
            可能会有更改？  

## 实践项目考虑

- 自备测试数据  
    - 多场景验证SQL的正确性  
    - 通过编写代码完成自动化测试
- 原始数据的局部修正、测试对现有数据的影响  
    - 添加数据  
    - 修正数据  
- 整体数据的一致性检察（if need）  

## 